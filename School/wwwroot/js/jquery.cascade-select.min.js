(function(n){n.extend(n.fn,{cascade:function(t){var i;return i=t.cascaded.indexOf("#")<0?n("#"+t.cascaded):n(t.cascaded),t=n.extend({},n.fn.cascade.defaults,{source:t.source,cascaded:t.cascaded},t),i.children().length==0&&(i.append('<option value="00000000-0000-0000-0000-000000000000">'+t.dependentStartingLabel+"<\/option>"),t.disableUntilLoaded&&(i.attr("disabled","disabled"),n(i).trigger("chosen:updated"))),this.each(function(){var r=n(this);r.change(function(){var e={timestamp:+new Date},r,u,o,f;n.each(t.extraParams,function(n,t){e[n]=typeof t=="function"?t():t});r=n.extend({selected:n(this).val()},e);u=i.val();i.empty().attr("disabled","disabled").append('<option value="00000000-0000-0000-0000-000000000000">'+t.dependentLoadingLabel+"<\/option>");n(i).trigger("chosen:updated");t.spinnerImg&&(i.next("."+t.spinnerClass).remove(),o=n("<img />").attr("src",t.spinnerImg),n('<span class="'+t.spinnerClass+'" />').append(o).insertAfter(i));f=function(r){i.empty().attr("disabled",null);n(i).trigger("chosen:updated");i.next("."+t.spinnerClass).remove();r.optionsList!=undefined&&r.optionsList!=null&&r.optionsList.length>0?(t.appendEmpry&&i.append('<option value="00000000-0000-0000-0000-000000000000">'+t.emptyDescription+"<\/option>"),r.optionsList.length==1&&t.appendEmpry==!1?(i.append("<option selected value="+r.optionsList[0].value+">"+r.optionsList[0].label+"<\/option>"),n(i).trigger("change")):(n.each(r.optionsList,function(n,t){t.value==u||u.includes(t.value)?i.append("<option selected value="+t.value+">"+t.label+"<\/option>"):i.append("<option value="+t.value+">"+t.label+"<\/option>")}),n(i).trigger("change")),t.successCallBack!=null&&t.successCallBack()):(i.empty().attr("disabled","disabled").append('<option value="00000000-0000-0000-0000-000000000000">'+t.dependentNothingFoundLabel+"<\/option>"),n(i).trigger("change"));n(i).trigger("chosen:updated")};t.httpMethod=="GET"?n.get(t.source,r,f):t.httpMethod=="POST"&&n.post(t.source,r,f)})})}});n.fn.cascade.defaults={sourceStartingLabel:"Select one first",dependentNothingFoundLabel:"No elements found",dependentStartingLabel:"Select one",dependentLoadingLabel:"Loading options",disableUntilLoaded:!0,appendEmpry:!1,emptyDescription:"All",spinnerClass:"cascading-select-spinner",extraParams:{},successCallBack:null,httpMethod:"GET"}})(jQuery);